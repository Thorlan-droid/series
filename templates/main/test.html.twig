{% extends 'base.html.twig' %}

{% block body %}

    <h1>Test !</h1>

    {# Creation de variable #}
    {% set name = "Nicolas" %}
    {# ~ est le symbole de concaténation  #}
    <h2>Hello {{ name ~ " " ~ name }}</h2>
    <h2>Hello {{ name }} {{ name }}</h2>

    {# création d'un tableau #}
    {% set colors = ['red', 'purple', 'green', 'yellow'] %}

    {# boucler sur un tableau #}
    {% for color in colors %}
        <div style="background-color: {{ color }}">{{ color }}</div>
        {# usage de loop variable créé par for #}
        {% if loop %}
            <div>index de l'élément courant : {{ loop.index }} / {{ loop.length }}</div>
        {% endif %}
        {%  if loop.last %}
            <div>Dernière itération</div>
        {% endif %}
    {#  si tableau est vide alors on passe dans le else #}
    {% else %}
        <div>Pas d'éléments</div>
    {% endfor %}

{#  manipulation d'objet #}

{% set serie =
    {
        title : "LOTR",
        year : 2022,
        platform : "Amazon"
    }
%}

<h2>Titre de la serie : {{ serie.title }}</h2>

{# boucler sur un objet #}

{%  for key, val in serie %}
    <div>{{ key }} : {{ val }}</div>
{% endfor %}

{# les filtres #}

<div>{{ name | upper | lower | capitalize }} : {{  name | length }} lettres</div>
<div>{{  colors | join("-") }}</div>
<div> {{ "now" | date('d-m-Y H:i:s') }}</div>

{% endblock %}

{% block title %} {{ parent() }} | Test{% endblock %}